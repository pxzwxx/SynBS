# SynBS
C++线程池实现BS并发TCP服务器

项目主体内容如下:

服务端:

1.主线程创建一个线程池，主线程负责统一accpet，把accept之后的描述符递给线程池中维护客户端最少的那个线程，每个线程负责多个客户端的读，写socket，以及业务处理。同时主线程负责统计和打印开启的线程数，客户端接入的数量，服务端recv以及处理的数据包总数

2.每个线程各自使用epoll模型的管理当前线程的所有客户端读写请求，每个线程同步recv, 处理网络消息，send该线程内的客户端。

3.模拟客户端可向服务端发送多种请求，服务端根据客户端的请求向客户端返回对应的响应。服务端支持客户端数据的粘包，分包处理，心跳监测，定时发送，以及数据包的丢包，混包监测等功能。

4.封装接受和发送消息缓冲区，缓冲区方便接受和发送数据。

5.封装线程类，方便线程的创建，运行，退出，同时支持异步写日志功能。

模拟客户端 : 模拟客户端主要的任务是测试服务端的性能。

1.模拟客户端多个线程，每个线程内创建多个客户端，并连接服务器，支持以一定的频率向服务端发送消息，接受数据；支持数据包的丢包，混包监测，主线程统计并打印统计信息。

2.使用epoll模型管理每个客户端socket的读写。
